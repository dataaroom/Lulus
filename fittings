#! python3

"""
Create a data structure for all type of fittings.

"""

from uc import Units
# from lines import Line

class Fittings:  #TODO: 考虑是否应该删除 Fitting class。
    def __init__(self, spec, size):
        self.spec = spec
        self.size = size

class Pipe(Fittings):
    
    def __init__ (self, number, size = Units(2, 'in', 'L'), schedule = 'STD', length = Units(10, 'ft', 'L')): #TODO create a class or dictionary for piping class.
        self.number = number  # line number
        self.size = size  # line size, English Unit  TODO: Add SI unit.
        self.schedule = schedule # Pipe schedule
        self.length = length  # Pipe length
        
    @property
    def ID(self):
        size = self.size.convert('in').value
        return float(self.pipeid[size][self.schedule])   # The return is a value, not a unit.

    @property
    def OD(self):
        size = self.size.convert('in').value
        return float(self.pipeid[size]['OD'])            # The return is a value, not a unit.

    @property
    def wt(self): # Pipe Wall Thinkness
        return (self.OD - self.ID) / 2  # TODO: 返回的应该是一个单位， 而不是 一个值。

    @property
    def volume(self):
        pass

    @property
    def weight(self):
        pass  # TODO: To calculate the pipe weight, the pipe density is required. Consider to add A density property to the line class.

    @property
    def fractionloss(self):
        pass


    #Pipe Schedules are based on ASME standards B36.10M and B36.19M
    pipeid = {0.125: {'OD': 0.405,
                  '10S': 0.307,
                  '40S': 0.269,
                  '80S': 0.215,
                  'STD': 0.269,
                  '40': 0.269,
                  'XS': 0.215,
                  '80': 0.215},
          0.25: {'OD': 0.54,
                 '10S': 0.41,
                 '40S': 0.364,
                 '80S': 0.302,
                 'STD': 0.364,
                 '40': 0.364,
                 'XS': 0.302,
                 '80': 0.302},
          0.375: {'OD': 0.675,
                 '10S': 0.545,
                 '40S': 0.493,
                 '80S': 0.423,
                 'STD': 0.493,
                 '40': 0.493,
                 'XS': 0.423,
                 '80': 0.423},
          0.5: {'OD': 0.84,
                '5S': 0.71,
                '10S': 0.674,
                '40S': 0.622,
                '80S': 0.546,
                'STD': 0.622,
                '40': 0.622,
                'XS': 0.546,
                '80': 0.546,
                '160': 0.464,
                'XXS': 0.252},
          0.75: {'OD': 1.05,
                '5S': 0.92,
                '10S': 0.884,
                '40S': 0.824,
                '80S': 0.742,
                'STD': 0.824,
                '40': 0.824,
                'XS': 0.742,
                '80': 0.742,
                '160': 0.612,
                'XXS': 0.434},
          1.0: {'OD': 1.315,
                '5S': 1.185,
                '10S': 1.097,
                '40S': 1.049,
                '80S': 0.957,
                'STD': 1.049,
                '40': 1.049,
                'XS': 0.957,
                '80': 0.957,
                '160': 0.815,
                'XXS': 0.599},
          1.5: {'OD': 1.9,
                '5S': 1.77,
                '10S': 1.682,
                '40S': 1.61,
                '80S': 1.5,
                'STD': 1.61,
                '40': 1.61,
                'XS': 1.5,
                '80': 1.5,
                '160': 1.338,
                'XXS': 1.1},
          2.0: {'OD': 2.375,
                '5S': 2.245,
                '10S': 2.157,
                '40S': 2.067,
                '80S': 1.939,
                'STD': 2.067,
                '40': 2.067,
                'XS': 1.939,
                '80': 1.939,
                '160': 1.687,
                'XXS': 1.503},
          2.5: {'OD': 2.875,
                '5S': 2.709,
                '10S': 2.635,
                '40S': 2.469,
                '80S': 2.323,
                'STD': 2.469,
                '40': 2.469,
                'XS': 2.323,
                '80': 2.323,
                '160': 2.125,
                'XXS': 1.771},
          3.0: {'OD': 3.5,
                '5S': 3.334,
                '10S': 3.26,
                '40S': 3.068,
                '80S': 2.9,
                'STD': 3.068,
                '40': 3.068,
                'XS': 2.9,
                '80': 2.9,
                '160': 2.624,
                'XXS': 2.3},
          3.5: {'OD': 4,
                '5S':3.834 ,
                '10S': 3.76,
                '40S': 3.548,
                '80S': 3.364,
                'STD': 3.548,
                '40': 3.548,
                'XS': 3.364,
                '80': 3.364},
          4.0: {'OD': 4.5,
                '5S': 4.334,
                '10S': 4.26,
                '40S': 4.026,
                '80S': 3.826,
                'STD': 4.026,
                '40': 4.026,
                'XS': 3.826,
                '80': 3.526,
                '120': 3.624,
                '160': 3.438,
                'XXS': 3.152},
          5.0: {'OD': 5.563,
                '5S': 5.345,
                '10S': 5.295,
                '40S': 5.047,
                '80S': 4.813,
                'STD': 5.047,
                '40': 5.047,
                'XS': 4.813,
                '80': 4.813,
                '120': 4.563,
                '160': 4.313,
                'XXS': 4.063},
          6.0: {'OD': 6.625,
                '5S': 6.407,
                '10S': 6.357,
                '40S': 6.065,
                '80S': 5.761,
                'STD': 6.065,
                '40': 6.065,
                'XS': 5.761,
                '80': 5.761,
                '120': 5.501,
                '160': 5.187,
                'XXS': 4.897},
          8.0: {'OD': 8.625,
                '5S': 8.407,
                '10S': 8.329,
                '40S': 7.981,
                '80S': 7.625,
                '20': 8.125,
                '30': 8.071,
                'STD': 7.981,
                '40': 7.981,
                '60': 7.813,
                'XS': 7.625,
                '80': 7.625,
                '100': 7.437,
                '120': 7.187,
                '140': 7.001,
                '160': 6.813,
                'XXS': 6.875},
          10.0: {'OD': 10.75,
                 '5S': 10.482,
                 '10S': 10.42,
                 '40S': 10.02,
                 '80S': 9.75,
                 '20': 10.25,
                 '30': 10.136,
                 'STD': 10.02,
                 '40': 10.02,
                 '60': 9.75,
                 'XS': 9.562,
                 '80': 9.75,
                 '100': 9.312,
                 '120': 9.062,
                 '140': 8.75,
                 '160': 8.5,
                 'XXS': 8.75},
          12.0: {'OD': 12.75,
                 '5S': 12.438,
                 '10S': 12.39,
                 '40S': 12,
                 '80S': 11.75,
                 '20': 12.25,
                 '30': 12.09,
                 'STD': 12,
                 '40': 11.938,
                 '60': 11.626,
                 'XS': 11.75,
                 '80': 11.374,
                 '100': 11.062,
                 '120': 10.75,
                 '140': 10.5,
                 '160': 10.126,
                 'XXS': 10.75},
          14.0: {'OD': 14,
                 '5S': 13.688,
                 '10S': 13.624,
                 '10': 13.5,
                 '20': 13.376,
                 '30': 13.25,
                 'STD': 13.25,
                 '40': 13.124,
                 '60': 12.812,
                 'XS': 13,
                 '80': 12.5,
                 '100': 12.124,
                 '120': 11.812,
                 '140': 11.5,
                 '160': 11.188},
          16.0: {'OD': 16,
                 '5S': 15.67,
                 '10S': 15.624,
                 '10': 15.5,
                 '20': 15.376,
                 '30': 15.25,
                 'STD': 15.25,
                 '40': 15,
                 '60': 14.688,
                 'XS': 15,
                 '80': 14.312,
                 '100': 13.939,
                 '120': 13.562,
                 '140': 13.124,
                 '160': 12.812},
          18.0: {'OD': 18,
                 '5S': 17.67,
                 '10S': 17.624,
                 '10': 17.5,
                 '20': 17.376,
                 '30': 17.124,
                 'STD': 17.25,
                 '40': 16.876,
                 '60': 16.5,
                 'XS': 17,
                 '80': 16.124,
                 '100': 15.688,
                 '120': 15.25,
                 '140': 14.876,
                 '160': 14.438},
          20.0: {'OD': 20,
                 '5S': 19.624,
                 '10S': 19.564,
                 '10': 19.5,
                 '20': 19.25,
                 '30': 19,
                 'STD': 19.25,
                 '40': 18.812,
                 '60': 18.376,
                 'XS': 19,
                 '80': 17.938,
                 '100': 17.438,
                 '120': 17,
                 '140': 16.5,
                 '160': 16.062},
          22.0: {'OD': 22,
                '5S': 21.624,
                '10S': 21.564,
                '10': 21.5,
                '20': 21.25,
                '30': 21,
                'STD': 21.25,
                '60': 20.25,
                'XS': 21,
                '80': 19.75,
                '100': 19.25,
                '120': 18.75,
                '140': 18.25,
                '160': 17.75},
          24.0: {'OD': 24,
                '5S': 23.564,
                '10S': 23.5,
                '10': 23.5,
                '20': 23.25,
                '30': 22.876,
                'STD': 23.25,
                '40': 22.624,
                '60': 22.062,
                'XS': 23,
                '80': 21.562,
                '100': 20.938,
                '120': 20.376,
                '140': 19.876,
                '160': 19.312},
          26.0: {'OD': 26,
                 '10': 25.376,
                 '20': 25,
                 'STD': 25.25,
                 'XS': 25},
          28.0: {'OD': 28,
                 '10': 27.376,
                 '20': 27,
                 '30': 26.75,
                 'STD': 27.25,
                 'XS': 27},
          30.0: {'OD': 30,
                 '5S': 29.5,
                 '10S': 29.376,
                 '10': 29.376,
                 '20': 29,
                 '30': 28.75,
                 'STD': 29.25,
                 'XS': 29},
          32.0: {'OD': 32,
                 '10': 31.376,
                '20': 31,
                 '30': 30.75,
                'STD': 31.25,
                 '40': 30.624,
                'XS': 31},
          34.0: {'OD': 34,
                 '10': 33.376,
                '20': 33,
                 '30': 32.75,
                'STD': 33.25,
                 '40': 32.624,
                'XS': 33},
          36.0: {'OD': 36,
                 '10': 35.376,
                '20': 35,
                 '30': 34.75,
                'STD': 35.25,
                 '40': 34.5,
                'XS': 35},
          42.0: {'OD': 42,
                'STD': 41.25,
                'XS': 41},
          44.0: {'OD': 44,
                'STD': 43.25,
                'XS': 43},
          46.0: {'OD': 46,
                'STD': 45.25,
                'XS': 45},
          48.0: {'OD': 48,
                'STD': 47.25,
                'XS': 47},
          54.0: {'OD': 54,
                 '10': 53.25,
                'STD': 53.25,
                'XS': 53},
          60.0: {'OD': 60,
                 '10': 59.25,
                'STD': 59.25,
                'XS': 59},
          66.0: {'OD': 66,
                 '10': 65.125,
                'STD': 65.25,
                'XS': 65},
          72.0: {'OD': 72,
                 '10': 71.125,
                'STD': 71.25,
                'XS': 71},
          84.0: {'OD': 84,
                 '10': 83.125,
                'STD': 83.25,
                'XS': 83},
          96.0: {'OD': 96,
                 '10': 95.00,
                'STD': 95.25,
                'XS': 95},
          108.0: {'OD': 108,
                 '10': 107,
                'STD': 107.25,
                'XS': 107},
          120.0: {'OD': 120,
                 '10': 119,
                'STD': 119.25,
                'XS': 119},
    }
    
    
class Elbow(Fittings):
    pass
  
class Tee(Fittings):
    pass
    
class Valve(Fittings):
    pass
    
class Reducer(Fittings):
    pass
    
class Entrance(Fittings):
    pass
    
class Exit(Fittings):
    pass
    
   
class SpecialItem(Fittings):
    pass

class Other(Fittings):
    pass

if __name__== "__main__":

    size = Units(4, 'in')
    piping = Pipe('sdf')
    piping2 = Pipe('fsfdf')
    piping2.size = size
    print(piping.number, piping.ID)
    print(piping2.number, piping2.ID)
    print(piping.thinkness)


    
    
    
    
    
    
    
    
    
